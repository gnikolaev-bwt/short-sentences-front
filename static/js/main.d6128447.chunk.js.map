{"version":3,"sources":["utils/text/truncateSentence.ts","utils/text/truncateString.ts","utils/text/getAsinFromString.ts","utils/time/getTimeFromSeconds.ts","hooks/useAppSelector/useAppSelector.ts","api/ProductsService/ProductsService.ts","constants/index.ts","routes/index.ts","store/slices/productList.slice.ts","store/slices/productDetails.slice.ts","store/index.ts","hooks/useAppActions/useAppActions.ts","components/atoms/CenteredBox/CenteredBox.tsx","components/atoms/ImageBlock/ImageBlock.tsx","components/atoms/RatingBlock/RatingBlock.tsx","components/atoms/CarouselBlock/CarouselBlock.tsx","components/organisms/ProductOverview/ProductOverview.tsx","components/molecules/ClusterDetails/ClusterDetails.tsx","components/molecules/ShortInfoCard/ShortInfoCard.tsx","components/organisms/ClusterList/ClusterList.tsx","components/organisms/ProductAnalogs/ProductAnalogs.tsx","components/organisms/ProductsPopular/ProductsPopular.tsx","components/organisms/ProductsSearch/ProductsSearch.tsx","components/pages/Home/Home.tsx","components/pages/ProductDetails/ProductDetails.tsx","components/templates/Header/Header.tsx","components/templates/Layout/Layout.tsx","components/templates/AppRouter/AppRouter.tsx","index.tsx","components/atoms/RatingBlock/RatingBlock.module.css","components/molecules/ClusterDetails/ClusterDetails.module.css","components/organisms/ProductsPopular/ProductsPopular.module.css","components/pages/Home/Home.module.css","components/organisms/ProductsSearch/ProductsSearch.module.css"],"names":["truncateSentence","sentence","truncateLength","maxLength","split","length","slice","join","truncateString","string","getAsinFromString","resultArr","RegExp","exec","getTimeFromSeconds","seconds","tmpDate","Date","setSeconds","toISOString","substr","useAppSelector","useSelector","AMAZON_API","axios","create","baseURL","process","headers","OWN_API","ProductsService","getProductDetails","asin","a","options","method","url","params","country","request","response","console","log","data","result","searchForProduct","query","getProductClusters","cancelToken","lang","language","status","Error","error","IRoutes","POPULAR_PRODUCTS","fetchPopularProducts","createAsyncThunk","_","rejectWithValue","productsDetailsPromises","map","product","Promise","all","message","condition","getState","productList","popularProducts","searchForProducts","args","products","lastQuery","productListActions","productListReducer","createSlice","name","initialState","foundProducts","isPopularLoading","isSearchLoading","popularError","searchError","reducers","extraReducers","pending","type","state","fulfilled","action","payload","reducer","fetchProductDetails","fetchProductClusters","productDetailsActions","productDetailsReducer","productDetails","productClusters","isDetailsLoading","isClustersLoading","detailsError","clustersError","rejected","store","configureStore","actions","useAppActions","dispatch","useDispatch","bindActionCreators","CenteredBox","props","children","className","ImageBlock","src","height","bgSize","style","backgroundImage","backgroundColor","backgroundRepeat","backgroundPosition","backgroundSize","RatingBlock","rating","ratingFloat","parseFloat","Array","from","i","cn","styles","starWrapper","filled","ratingWrapper","CarouselBlock","images","Carousel","interval","variant","imageSrc","Item","ProductOverview","details","isLoading","Card","size","Body","Title","title","reviews","description","Text","Button","as","href","target","ClusterDetails","cluster","useState","isOpened","setIsOpened","isSentencesEnrolled","setIsSentencesEnrolled","sentencesToShow","sentences","card","focused","cardHeader","onClick","prev","group","statements","Collapse","in","hr","ShortInfoCard","productDetailsUrl","getRouteUrl","ProductDetails","Link","to","ClusterList","clusters","secondsPassed","setSecondsPassed","useEffect","setInterval","clearInterval","startsWith","substring","ProductAnalogs","isAnalogsEnrolled","setIsAnalogsEnrolled","analogsToShow","setAnalogsToShow","Row","variants","filter","is_current_product","analog","Col","md","large","ProductsPopular","CardGroup","cardGroup","main_image","Footer","ProductsSearch","searchRow","thumbnail","routes","path","Home","component","history","useHistory","setQuery","setLang","isShowingPopular","setIsShowingPopular","handleSubmit","e","preventDefault","push","Container","container","onSubmit","autoComplete","lg","FloatingLabel","controlId","label","Form","Control","placeholder","onChange","value","select","disabled","match","clustersSource","CancelToken","source","token","cancel","isShowingAnalogs","route","Object","entries","reduce","acc","arg","replace","Header","Navbar","bg","expand","Brand","Toggle","Layout","AppRouter","exact","render","Component","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d6128447.chunk.js","sourcesContent":["export const truncateSentence = (\n  sentence: string,\n  truncateLength: number | undefined\n): string => {\n  const maxLength = truncateLength ?? 12;\n  const splittedSentence = sentence.split(' ');\n  if (splittedSentence.length > maxLength) {\n    return sentence.split(' ').slice(0, maxLength).join(' ') + '...';\n  }\n  return sentence;\n};\n","export const truncateString = (\n  string: string,\n  truncateLength: number | undefined\n): string => {\n  const maxLength = truncateLength ?? 30;\n  if (string.length > maxLength) {\n    return string.slice(0, maxLength) + '...';\n  }\n  return string;\n};\n","export const getAsinFromString = (string: string) => {\n  const asinRegex = new RegExp('B[0-9]{2}[0-9A-Z]{7}|[0-9]{9}(X|0-9])');\n  const resultArr = asinRegex.exec(string);\n  if (!resultArr) {\n    return null;\n  }\n  return resultArr?.[0];\n};\n","export const getTimeFromSeconds = (seconds: number) => {\n  let tmpDate = new Date(0);\n  tmpDate.setSeconds(seconds);\n  return tmpDate.toISOString().substr(14, 5);\n};\n","import { TypedUseSelectorHook, useSelector } from 'react-redux';\nimport { AppState } from 'src/store';\n\nexport const useAppSelector: TypedUseSelectorHook<AppState> = useSelector;\n","import axios, { Method, CancelToken } from 'axios';\nimport { ICluster, IProductDetails, IFoundProduct } from 'src/types';\n\nconst AMAZON_API = axios.create({\n  baseURL: `https://${process.env.REACT_APP_RAPIDAPI_HOST}`,\n  headers: {\n    'x-rapidapi-host': process.env.REACT_APP_RAPIDAPI_HOST as string,\n    'x-rapidapi-key': process.env.REACT_APP_RAPIDAPI_KEY as string\n  }\n});\n\nconst OWN_API = axios.create({\n  baseURL: 'https://short-sentences.site'\n});\n\nexport class ProductsService {\n  static getProductDetails = async (asin: string) => {\n    interface IResponse {\n      result: IProductDetails[];\n    }\n    const options = {\n      method: 'GET' as Method,\n      url: '/product-details',\n      params: { asin, country: 'US' }\n    };\n    const response = await AMAZON_API.request<IResponse>(options);\n    console.log(response.data.result);\n    return response.data.result[0];\n  };\n  static searchForProduct = async (query: string) => {\n    interface IResponse {\n      result: IFoundProduct[];\n    }\n    const options = {\n      method: 'GET' as Method,\n      url: '/product-search',\n      params: { query, country: 'US' }\n    };\n    const response = await AMAZON_API.request<IResponse>(options);\n    return response.data.result;\n  };\n  static getProductClusters = async (\n    cancelToken: CancelToken,\n    asin: string,\n    lang: string\n  ) => {\n    interface IResponse {\n      data: ICluster[];\n      error: string;\n      status: string;\n    }\n    const options = {\n      method: 'GET' as Method,\n      url: '/process',\n      params: { asin, language: lang },\n      cancelToken\n    };\n    const response = await OWN_API.request<IResponse>(options);\n    if (response.data.status !== 'OK') {\n      throw new Error(`APP_ERROR ${response.data.error}`);\n    }\n    return response.data.data;\n  };\n}\n","import { IProduct, ICluster } from 'src/types';\n\nexport const POPULAR_PRODUCTS: IProduct[] = [\n  {\n    asin: 'B096BKFG57',\n    lang: 'En'\n  },\n  {\n    asin: 'B07G853D6N',\n    lang: 'En'\n  },\n  {\n    asin: 'B01K9S260E',\n    lang: 'En'\n  }\n];\n\nexport const CLUSTERS_FOR_PRODUCT: Record<string, ICluster[]> = {\n  B096BKFG57: [\n    {\n      'cluster description': ['good screen'],\n      cluster_id: 1,\n      group: 'Aspect based',\n      sentences: ['god screen', 'nice image'],\n      statements: 2\n    },\n    {\n      'cluster description': ['dont buy'],\n      cluster_id: 2,\n      group: 'Ipsum dolor',\n      sentences: ['dont buy', 'too cool', 'please dont buy'],\n      statements: 3\n    },\n    {\n      'cluster description': ['dont buy'],\n      cluster_id: 3,\n      group: 'Adipisicing elit',\n      sentences: ['dont buy', 'too cool', 'please dont buy'],\n      statements: 3\n    },\n    {\n      'cluster description': ['dont buy'],\n      cluster_id: 4,\n      group: 'Omnis, voluptate',\n      sentences: ['sit amet', 'too cool', 'please dont buy'],\n      statements: 3\n    },\n    {\n      'cluster description': ['dont buy'],\n      cluster_id: 5,\n      group: 'emotional based',\n      sentences: ['dont buy', 'omnis', 'adipisicing elit', 'for me is nice'],\n      statements: 4\n    }\n  ],\n  B01MQWUXZS: [\n    {\n      'cluster description': ['dont buy'],\n      cluster_id: 1,\n      group: 'emotional based',\n      sentences: ['dont buy', 'too cool', 'please dont buy'],\n      statements: 3\n    }\n  ],\n  B01K9S260E: [\n    {\n      'cluster description': ['dont buy'],\n      cluster_id: 1,\n      group: 'emotional based',\n      sentences: ['dont buy', 'too cool', 'please dont buy'],\n      statements: 3\n    }\n  ]\n};\n","import { Home, ProductDetails } from 'src/components/pages';\n\nexport enum IRoutes {\n  Home = '/',\n  ProductDetails = '/:asin/:lang'\n}\n\nexport const routes = [\n  {\n    path: IRoutes.Home,\n    component: Home\n  },\n  {\n    path: IRoutes.ProductDetails,\n    component: ProductDetails\n  }\n];\n\nexport const getRouteUrl = (route: IRoutes, args: Record<string, string>) => {\n  return Object.entries(args).reduce((acc, [arg, value]) => {\n    return acc.replace(`:${arg}`, value);\n  }, route as string);\n};\n","import {\n  createAsyncThunk,\n  createSlice,\n  PayloadAction\n} from '@reduxjs/toolkit';\nimport { ProductsService } from 'src/api';\nimport { IFoundProduct, IProductDetails } from 'src/types';\nimport { POPULAR_PRODUCTS } from 'src/constants';\n\nconst initialState = {\n  popularProducts: [] as IProductDetails[],\n  foundProducts: [] as IFoundProduct[],\n  lastQuery: null as string | null,\n  isPopularLoading: false,\n  isSearchLoading: false,\n  popularError: '',\n  searchError: ''\n};\n\nconst fetchPopularProducts = createAsyncThunk(\n  'productList/fetchPopularProducts',\n  async (_, { rejectWithValue }) => {\n    try {\n      const productsDetailsPromises = POPULAR_PRODUCTS.map((product) =>\n        ProductsService.getProductDetails(product.asin)\n      );\n      return await Promise.all(productsDetailsPromises);\n    } catch (e) {\n      return rejectWithValue((e as Error).message);\n    }\n  },\n  {\n    condition: (_, { getState }) => {\n      const state = getState() as { productList: typeof initialState };\n      return !state.productList.popularProducts.length;\n    }\n  }\n);\n\nconst searchForProducts = createAsyncThunk(\n  'productList/searchForProducts',\n  async (args: { query: string }, { rejectWithValue }) => {\n    try {\n      const products = await ProductsService.searchForProduct(args.query);\n      return { query: args.query, products };\n    } catch (e) {\n      return rejectWithValue((e as Error).message);\n    }\n  },\n  {\n    condition: (args: { query: string }, { getState }) => {\n      const state = getState() as { productList: typeof initialState };\n      return state.productList.lastQuery !== args.query;\n    }\n  }\n);\n\nconst productListSlice = createSlice({\n  name: 'productList',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [fetchPopularProducts.pending.type]: (state) => {\n      state.isPopularLoading = true;\n    },\n    [fetchPopularProducts.fulfilled.type]: (\n      state,\n      action: PayloadAction<IProductDetails[]>\n    ) => {\n      state.popularProducts = action.payload;\n      state.isPopularLoading = false;\n    },\n    [searchForProducts.pending.type]: (state) => {\n      state.isSearchLoading = true;\n    },\n    [searchForProducts.fulfilled.type]: (\n      state,\n      action: PayloadAction<{ query: string; products: IFoundProduct[] }>\n    ) => {\n      state.foundProducts = action.payload.products;\n      state.lastQuery = action.payload.query;\n      state.isSearchLoading = false;\n    }\n  }\n});\n\nexport const productListActions = {\n  fetchPopularProducts,\n  searchForProducts\n};\n\nexport const productListReducer = productListSlice.reducer;\n","import {\n  createAsyncThunk,\n  createSlice,\n  PayloadAction\n} from '@reduxjs/toolkit';\nimport { CancelToken } from 'axios';\nimport { ProductsService } from 'src/api';\nimport { IProductDetails, ICluster } from 'src/types';\n\nconst initialState = {\n  productDetails: null as IProductDetails | null,\n  productClusters: [] as ICluster[],\n  isDetailsLoading: false,\n  isClustersLoading: false,\n  detailsError: '',\n  clustersError: ''\n};\n\nconst fetchProductDetails = createAsyncThunk(\n  'productDetails/fetchProductDetails',\n  async (args: { asin: string }, { rejectWithValue }) => {\n    try {\n      return await ProductsService.getProductDetails(args.asin);\n    } catch (e) {\n      return rejectWithValue((e as Error).message);\n    }\n  }\n);\n\nconst fetchProductClusters = createAsyncThunk(\n  'productDetails/fetchProductClusters',\n  async (\n    args: { cancelToken: CancelToken; asin: string; lang: string },\n    { rejectWithValue }\n  ) => {\n    try {\n      const { cancelToken, asin, lang } = args;\n      return await ProductsService.getProductClusters(cancelToken, asin, lang);\n    } catch (e) {\n      return rejectWithValue((e as Error).message);\n    }\n  }\n);\n\nconst productDetailsSlice = createSlice({\n  name: 'productDetails',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [fetchProductDetails.pending.type]: (state) => {\n      state.isDetailsLoading = true;\n    },\n    [fetchProductDetails.fulfilled.type]: (\n      state,\n      action: PayloadAction<IProductDetails>\n    ) => {\n      state.productDetails = action.payload;\n      state.isDetailsLoading = false;\n      state.detailsError = '';\n    },\n    [fetchProductDetails.rejected.type]: (\n      state,\n      action: PayloadAction<string>\n    ) => {\n      state.isDetailsLoading = false;\n      state.detailsError = action.payload;\n    },\n    [fetchProductClusters.pending.type]: (state) => {\n      state.isClustersLoading = true;\n    },\n    [fetchProductClusters.fulfilled.type]: (\n      state,\n      action: PayloadAction<ICluster[]>\n    ) => {\n      state.productClusters = action.payload;\n      state.isClustersLoading = false;\n      state.clustersError = '';\n    },\n    [fetchProductClusters.rejected.type]: (\n      state,\n      action: PayloadAction<string>\n    ) => {\n      state.isClustersLoading = false;\n      state.clustersError = action.payload;\n    }\n  }\n});\n\nexport const productDetailsActions = {\n  fetchProductDetails,\n  fetchProductClusters\n};\n\nexport const productDetailsReducer = productDetailsSlice.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport {\n  productListReducer,\n  productListActions\n} from './slices/productList.slice';\nimport {\n  productDetailsActions,\n  productDetailsReducer\n} from './slices/productDetails.slice';\n\nexport const store = configureStore({\n  reducer: {\n    productList: productListReducer,\n    productDetails: productDetailsReducer\n  }\n});\n\nexport const actions = {\n  ...productListActions,\n  ...productDetailsActions\n};\n\nexport type AppState = ReturnType<typeof store.getState>;\n","import { useDispatch } from 'react-redux';\nimport { bindActionCreators } from '@reduxjs/toolkit';\nimport { actions } from 'src/store';\n\nexport const useAppActions = () => {\n  const dispatch = useDispatch();\n  return bindActionCreators(actions, dispatch);\n};\n","import { FC } from 'react';\n\nexport const CenteredBox: FC = (props) => {\n  const { children } = props;\n  return (\n    <div className='w-100 h-100 p-5'>\n      <div className='d-flex flex-column align-items-center text-center'>\n        {children}\n      </div>\n    </div>\n  );\n};\n","import { FC } from 'react';\n\nexport const ImageBlock: FC<IProps> = (props) => {\n  const { src, height, bgSize } = props;\n  return (\n    <div\n      style={{\n        height: height ?? '15rem',\n        backgroundImage: src ? `url(${src})` : 'none',\n        backgroundColor: src ? 'none' : '#2b2b2b',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundSize: src ? bgSize ?? '50%' : '100%'\n      }}\n    />\n  );\n};\n\ninterface IProps {\n  src: string | null | undefined;\n  height?: string;\n  bgSize?: string;\n}\n","import { FC } from 'react';\nimport { AiFillStar, AiOutlineStar } from 'react-icons/ai';\nimport cn from 'classnames';\nimport styles from './RatingBlock.module.css';\n\nexport const RatingBlock: FC<IProps> = (props) => {\n  const { rating } = props;\n  const ratingFloat = parseFloat(rating);\n  return (\n    <div className='d-flex align-items-center'>\n      {Array.from({ length: 5 }).map((_, i) =>\n        i < ratingFloat ? (\n          <div key={i} className={cn(styles.starWrapper, styles.filled)}>\n            <AiFillStar />\n          </div>\n        ) : (\n          <div key={i} className={styles.starWrapper}>\n            <AiOutlineStar />\n          </div>\n        )\n      )}\n      <div className={styles.ratingWrapper}>\n        <div className={styles.rating}>{rating}</div>\n      </div>\n    </div>\n  );\n};\n\ninterface IProps {\n  rating: string;\n}\n","import { FC } from 'react';\nimport { Carousel } from 'react-bootstrap';\nimport { ImageBlock } from '../ImageBlock/ImageBlock';\n\nexport const CarouselBlock: FC<IProps> = (props) => {\n  const { images, height, bgSize } = props;\n  return images.length > 1 ? (\n    <Carousel interval={null} variant='dark'>\n      {images.map((imageSrc, i) => (\n        <Carousel.Item key={i}>\n          <ImageBlock src={imageSrc} height={height} bgSize={bgSize} />\n        </Carousel.Item>\n      ))}\n    </Carousel>\n  ) : (\n    <ImageBlock src={images[0]} height={height} bgSize={bgSize} />\n  );\n};\n\ninterface IProps {\n  images: string[];\n  height: string;\n  bgSize: string;\n}\n","import { FC } from 'react';\nimport { ScaleLoader } from 'react-spinners';\nimport { BiErrorCircle } from 'react-icons/bi';\nimport { Button, Card } from 'react-bootstrap';\nimport { IProductDetails } from 'src/types';\nimport { CarouselBlock, CenteredBox, RatingBlock } from 'src/components/atoms';\nimport { truncateString } from 'src/utils';\n\nexport const ProductOverview: FC<IProps> = (props) => {\n  const { details, isLoading, error } = props;\n  return (\n    <Card>\n      {isLoading ? (\n        <CenteredBox>\n          <ScaleLoader />\n        </CenteredBox>\n      ) : error || !details ? (\n        <CenteredBox>\n          <BiErrorCircle size='48px' />\n          <div className='mt-2'>\n            Some error occurred on product load. Please, check if product with\n            this asin exists or try to visit this page later.\n          </div>\n        </CenteredBox>\n      ) : (\n        <>\n          <CarouselBlock images={details.images} height='17rem' bgSize='60%' />\n          <Card.Body>\n            <Card.Title>{details.title}</Card.Title>\n            <hr />\n            <div className='my-3'>\n              <RatingBlock rating={details.reviews.rating} />\n            </div>\n            {details.description && (\n              <>\n                <hr />\n                <Card.Text>\n                  {truncateString(details.description, 100)}\n                </Card.Text>\n              </>\n            )}\n            <hr />\n            <Button\n              as='a'\n              className='w-100'\n              variant='outline-dark'\n              href={details.url}\n              target='_blank'\n            >\n              Open in Amazon store\n            </Button>\n          </Card.Body>\n        </>\n      )}\n    </Card>\n  );\n};\n\ninterface IProps {\n  details: IProductDetails | null;\n  isLoading: boolean;\n  error: string;\n}\n","import { FC, useState } from 'react';\nimport cn from 'classnames';\nimport { ICluster } from 'src/types';\nimport { Button, Card, Collapse } from 'react-bootstrap';\nimport { FaRegComment, FaMinus, FaPlus } from 'react-icons/fa';\nimport { BiCommentEdit } from 'react-icons/bi';\nimport styles from './ClusterDetails.module.css';\n\nexport const ClusterDetails: FC<IProps> = (props) => {\n  const { cluster } = props;\n  const [isOpened, setIsOpened] = useState(false);\n  const [isSentencesEnrolled, setIsSentencesEnrolled] = useState(false);\n\n  const sentencesToShow = isSentencesEnrolled ? cluster.sentences.length : 5;\n\n  return (\n    <Card className={cn(styles.card, { [styles.focused]: isOpened })}>\n      <div\n        className={styles.cardHeader}\n        onClick={() => setIsOpened((prev) => !prev)}\n      >\n        <div className='flex-grow-1 me-3'>\n          <Card.Title>{cluster['cluster description']}</Card.Title>\n          <Card.Text>{cluster.group}</Card.Text>\n        </div>\n        <div className='d-flex align-items-center mx-3'>\n          <FaRegComment className='me-1' />\n          <span className='lead'>{cluster.statements}</span>\n        </div>\n        <div className='d-flex align-items-center mx-3'>\n          {isOpened ? <FaMinus /> : <FaPlus />}\n        </div>\n      </div>\n      <Collapse in={isOpened}>\n        <div>\n          <hr className={styles.hr} />\n          {cluster.sentences.slice(0, sentencesToShow).map((sentence, i) => (\n            <div key={i}>\n              <BiCommentEdit />\n              <span className='ms-2'>{sentence}</span>\n            </div>\n          ))}\n          <hr className={styles.hr} />\n          <Button\n            variant='light'\n            className='w-100'\n            onClick={() => setIsSentencesEnrolled((prev) => !prev)}\n          >\n            {isSentencesEnrolled ? 'Hide' : 'Expand reviews'}\n          </Button>\n        </div>\n      </Collapse>\n    </Card>\n  );\n};\n\ninterface IProps {\n  cluster: ICluster;\n}\n","import { FC } from 'react';\nimport { Card } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { getRouteUrl, IRoutes } from 'src/routes';\nimport { ImageBlock, RatingBlock } from 'src/components/atoms';\n\nexport const ShortInfoCard: FC<IProps> = (props) => {\n  const { asin, src, title, rating } = props;\n\n  const productDetailsUrl = getRouteUrl(IRoutes.ProductDetails, {\n    asin,\n    lang: 'En'\n  });\n\n  return (\n    <Card as={Link} className='h-100' to={productDetailsUrl}>\n      <ImageBlock src={src} height='10rem' bgSize='40%' />\n      <Card.Body>\n        <Card.Title>{title}</Card.Title>\n        {rating && <RatingBlock rating={`${rating}`} />}\n      </Card.Body>\n    </Card>\n  );\n};\n\ninterface IProps {\n  asin: string;\n  src: string;\n  title: string;\n  rating?: number | string;\n}\n","import { FC, useEffect, useState } from 'react';\nimport { ClockLoader } from 'react-spinners';\nimport { BiErrorCircle } from 'react-icons/bi';\nimport { ICluster } from 'src/types';\nimport { getTimeFromSeconds } from 'src/utils';\nimport { CenteredBox } from 'src/components/atoms';\nimport { ClusterDetails } from 'src/components/molecules';\n\nexport const ClusterList: FC<IProps> = (props) => {\n  const { clusters, isLoading, error } = props;\n  const [secondsPassed, setSecondsPassed] = useState(0);\n\n  useEffect(() => {\n    if (isLoading) {\n      setSecondsPassed(0);\n      const interval = setInterval(() => {\n        setSecondsPassed((prev) => prev + 1);\n      }, 1000);\n      return () => clearInterval(interval);\n    }\n  }, [isLoading]);\n\n  return (\n    <div className='rounded-3 border p-4'>\n      <h4>Review Summary</h4>\n      <hr className='my-4' />\n      <div>\n        {isLoading ? (\n          <CenteredBox>\n            <ClockLoader />\n            <div className='mt-2'>\n              It takes about 3 minutes to load reviews\n            </div>\n            <div className='mt-1'>\n              Time passed: {getTimeFromSeconds(secondsPassed)}\n            </div>\n          </CenteredBox>\n        ) : error && error.startsWith('APP_ERROR') ? (\n          <CenteredBox>\n            <BiErrorCircle size='48px' />\n            <div className='mt-2'>{error.substring(10)}</div>\n          </CenteredBox>\n        ) : error ? (\n          <CenteredBox>\n            <BiErrorCircle size='48px' />\n            <div className='mt-2'>\n              Some error occurred on reviews load: <br /> {error}\n            </div>\n          </CenteredBox>\n        ) : (\n          clusters.map((cluster, i) => (\n            <ClusterDetails key={i} cluster={cluster} />\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\ninterface IProps {\n  clusters: ICluster[];\n  isLoading: boolean;\n  error: string;\n}\n","import { FC, useState } from 'react';\nimport { IProductDetails } from 'src/types';\nimport { Button, Col, Row } from 'react-bootstrap';\nimport { ShortInfoCard } from 'src/components/molecules';\n\nexport const ProductAnalogs: FC<IProps> = (props) => {\n  const { details } = props;\n  const [isAnalogsEnrolled, setIsAnalogsEnrolled] = useState(false);\n  const [analogsToShow, setAnalogsToShow] = useState(4);\n\n  const handleAnalogsEnrolled = () => {\n    setAnalogsToShow(isAnalogsEnrolled ? 4 : details.variants.length);\n    setIsAnalogsEnrolled(!isAnalogsEnrolled);\n  };\n\n  return (\n    <>\n      <Row className='mt-4'>\n        <hr />\n      </Row>\n      <Row className='mt-2'>\n        <h3>You'd may also like to see:</h3>\n      </Row>\n      <Row>\n        {details.variants\n          .filter((a) => !a.is_current_product)\n          .slice(0, analogsToShow)\n          .map((analog, i) => (\n            <Col key={i} md={3} className='mt-3'>\n              <ShortInfoCard\n                asin={analog.asin}\n                src={analog.images[0]?.large}\n                title={analog.title}\n              />\n            </Col>\n          ))}\n      </Row>\n      {details.variants.length > 4 && (\n        <Row className='justify-content-center mt-3'>\n          <Col md={6}>\n            <Button\n              variant='outline-dark'\n              className='w-100'\n              onClick={handleAnalogsEnrolled}\n            >\n              {isAnalogsEnrolled ? 'Hide' : 'Show more'}\n            </Button>\n          </Col>\n        </Row>\n      )}\n    </>\n  );\n};\n\ninterface IProps {\n  details: IProductDetails;\n}\n","import { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AiOutlineStar } from 'react-icons/ai';\nimport { Card, CardGroup } from 'react-bootstrap';\nimport { getRouteUrl, IRoutes } from 'src/routes';\nimport { POPULAR_PRODUCTS } from 'src/constants';\nimport { truncateSentence } from 'src/utils';\nimport { ImageBlock } from 'src/components/atoms';\nimport styles from './ProductsPopular.module.css';\nimport { IProductDetails } from 'src/types';\n\nexport const ProductsPopular: FC<IProps> = (props) => {\n  const { popularProducts } = props;\n  return (\n    <CardGroup className={styles.cardGroup}>\n      {popularProducts.slice(0, 3).map((product, i) => {\n        const productDetailsUrl = getRouteUrl(IRoutes.ProductDetails, {\n          asin: POPULAR_PRODUCTS[i].asin,\n          lang: POPULAR_PRODUCTS[i].lang\n        });\n        return (\n          <Card\n            key={i}\n            className={styles.card}\n            as={Link}\n            to={productDetailsUrl}\n          >\n            <ImageBlock src={product.main_image} height='15rem' bgSize='25%' />\n            <Card.Body>\n              <Card.Title>{truncateSentence(product.title, 20)}</Card.Title>\n            </Card.Body>\n            <Card.Footer>\n              <small className='text-muted'>\n                Most popular <AiOutlineStar />\n              </small>\n            </Card.Footer>\n          </Card>\n        );\n      })}\n    </CardGroup>\n  );\n};\n\ninterface IProps {\n  popularProducts: IProductDetails[];\n}\n","import { FC } from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport { ShortInfoCard } from 'src/components/molecules';\nimport { IFoundProduct } from 'src/types';\nimport styles from './ProductsSearch.module.css';\n\nexport const ProductsSearch: FC<IProps> = (props) => {\n  const { foundProducts } = props;\n  return (\n    <Row className={styles.searchRow}>\n      {foundProducts.slice(0, 12).map((product, i) => (\n        <Col key={i} md={3} className='mt-3'>\n          <ShortInfoCard\n            asin={product.asin}\n            src={product.thumbnail}\n            title={product.title}\n            rating={product.reviews.rating}\n          />\n        </Col>\n      ))}\n    </Row>\n  );\n};\n\ninterface IProps {\n  foundProducts: IFoundProduct[];\n}\n","import { FC, FormEvent, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { HashLoader } from 'react-spinners';\nimport { getAsinFromString } from 'src/utils';\nimport { getRouteUrl, IRoutes } from 'src/routes';\nimport { useAppActions, useAppSelector } from 'src/hooks';\nimport { ProductsPopular, ProductsSearch } from 'src/components/organisms';\nimport { CenteredBox } from 'src/components/atoms';\nimport styles from './Home.module.css';\n\nimport {\n  Button,\n  Col,\n  Container,\n  FloatingLabel,\n  Form,\n  Row\n} from 'react-bootstrap';\n\nexport const Home: FC = () => {\n  const history = useHistory();\n  const [query, setQuery] = useState('');\n  const [lang, setLang] = useState('En');\n  const [isShowingPopular, setIsShowingPopular] = useState(true);\n\n  const { popularProducts, foundProducts, isPopularLoading, isSearchLoading } =\n    useAppSelector((state) => state.productList);\n\n  const { fetchPopularProducts, searchForProducts } = useAppActions();\n\n  useEffect(() => {\n    fetchPopularProducts();\n  }, []); // eslint-disable-line\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    const asin = getAsinFromString(query);\n    if (asin) {\n      const productDetailsUrl = getRouteUrl(IRoutes.ProductDetails, {\n        asin,\n        lang\n      });\n      history.push(productDetailsUrl);\n    } else if (query) {\n      setIsShowingPopular(false);\n      searchForProducts({ query });\n    } else {\n      setIsShowingPopular(true);\n      fetchPopularProducts();\n    }\n  };\n\n  return (\n    <Container className={styles.container}>\n      <Row className='g-2'>\n        <Col md={12}>\n          <h2>Search for product</h2>\n        </Col>\n      </Row>\n      <form onSubmit={handleSubmit} autoComplete='off'>\n        <Row className='g-2 mt-2'>\n          <Col md={6} lg={8}>\n            <FloatingLabel controlId='asin' label='Product name or asin'>\n              <Form.Control\n                placeholder='...'\n                onChange={(e) => setQuery(e.target.value)}\n              />\n            </FloatingLabel>\n          </Col>\n          <Col md={3} lg={2}>\n            <FloatingLabel label='Select language'>\n              <Form.Control\n                as='select'\n                className={styles.select}\n                onChange={(e) => setLang(e.target.value)}\n              >\n                <option value='En'>En</option>\n              </Form.Control>\n            </FloatingLabel>\n          </Col>\n          <Col md={3} lg={2}>\n            <Button\n              type='submit'\n              variant='primary'\n              className='w-100 h-100'\n              disabled={isSearchLoading}\n            >\n              Search\n            </Button>\n          </Col>\n        </Row>\n      </form>\n      <Row className='my-5'>\n        <Col md={4}>\n          <hr />\n        </Col>\n        <Col md={4} className='d-flex justify-content-center'>\n          <span className='text-nowrap lead'>\n            {isShowingPopular ? 'Most popular' : 'Search results'}\n          </span>\n        </Col>\n        <Col md={4}>\n          <hr />\n        </Col>\n      </Row>\n      {isPopularLoading || isSearchLoading ? (\n        <CenteredBox>\n          <HashLoader />\n        </CenteredBox>\n      ) : isShowingPopular ? (\n        <ProductsPopular popularProducts={popularProducts} />\n      ) : (\n        <ProductsSearch foundProducts={foundProducts} />\n      )}\n    </Container>\n  );\n};\n","import axios from 'axios';\nimport { FC, useEffect } from 'react';\nimport { Col, Container, Row } from 'react-bootstrap';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport { useAppActions, useAppSelector } from 'src/hooks';\nimport {\n  ProductOverview,\n  ClusterList,\n  ProductAnalogs\n} from 'src/components/organisms';\n\nexport const ProductDetails: FC<IProps> = (props) => {\n  const { asin, lang } = props.match.params;\n\n  const {\n    productDetails,\n    productClusters,\n    isDetailsLoading,\n    isClustersLoading,\n    detailsError,\n    clustersError\n  } = useAppSelector((state) => state.productDetails);\n\n  const { fetchProductDetails, fetchProductClusters } = useAppActions();\n\n  useEffect(() => {\n    fetchProductDetails({ asin });\n    const clustersSource = axios.CancelToken.source();\n    fetchProductClusters({ cancelToken: clustersSource.token, asin, lang });\n    return () => clustersSource.cancel();\n  }, [asin, lang]); // eslint-disable-line\n\n  const isShowingAnalogs =\n    !isDetailsLoading &&\n    productDetails?.variants &&\n    productDetails.variants.length > 1;\n\n  return (\n    <Container className='pb-5'>\n      <Row className='g-4 mt-3'>\n        <Col md={5} lg={3}>\n          <ProductOverview\n            details={productDetails}\n            isLoading={isDetailsLoading}\n            error={detailsError}\n          />\n        </Col>\n        <Col md={7} lg={9}>\n          <ClusterList\n            clusters={productClusters}\n            isLoading={isClustersLoading}\n            error={clustersError}\n          />\n        </Col>\n      </Row>\n      {isShowingAnalogs && <ProductAnalogs details={productDetails} />}\n    </Container>\n  );\n};\n\ninterface IRouteProps {\n  asin: string;\n  lang: string;\n}\n\ninterface IProps extends RouteComponentProps<IRouteProps> {}\n","import { Container, Navbar } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { IRoutes } from 'src/routes';\n\nexport const Header = () => {\n  return (\n    <Navbar bg='dark' variant='dark' expand='sm'>\n      <Container>\n        <Navbar.Brand as={Link} to={IRoutes.Home}>\n          Short Sentences\n        </Navbar.Brand>\n        <Navbar.Toggle />\n        <Navbar.Collapse className='justify-content-end'>\n          <Navbar.Text>\n            Using public <b>Amazon API</b>\n          </Navbar.Text>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n","import { FC } from 'react';\nimport { Header } from '../Header/Header';\n\nexport const Layout: FC = (props) => {\n  const { children } = props;\n  return (\n    <>\n      <Header />\n      {children}\n    </>\n  );\n};\n","import { FC } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { routes } from 'src/routes';\nimport { Layout } from '../Layout/Layout';\n\nexport const AppRouter: FC = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        {routes.map((route, i) => (\n          <Route\n            key={i}\n            exact\n            path={route.path}\n            render={(props) => {\n              const Component = route.component as FC<any>;\n              return (\n                <Layout>\n                  <Component {...props} />\n                </Layout>\n              );\n            }}\n          />\n        ))}\n      </Switch>\n    </BrowserRouter>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'src/styles/index.css';\n\nimport { AppRouter } from 'src/components/templates';\nimport { Provider } from 'react-redux';\nimport { store } from 'src/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <AppRouter />\n  </Provider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starWrapper\":\"RatingBlock_starWrapper__2Skqq\",\"filled\":\"RatingBlock_filled__2X0qQ\",\"ratingWrapper\":\"RatingBlock_ratingWrapper__3UWBZ\",\"rating\":\"RatingBlock_rating__2dCgI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ClusterDetails_card__33Lc3\",\"cardHeader\":\"ClusterDetails_cardHeader__7kZ6H\",\"focused\":\"ClusterDetails_focused__3e7az\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardGroup\":\"ProductsPopular_cardGroup__8SiFo\",\"card\":\"ProductsPopular_card__1Zk1C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__2dr4v\",\"select\":\"Home_select__3mtRK\",\"invalidTooltip\":\"Home_invalidTooltip__3vCgv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchRow\":\"ProductsSearch_searchRow__LBW1F\"};"],"sourceRoot":""}