{"version":3,"sources":["api/ProductsService/ProductsService.ts","routes/index.ts","hooks/useAppSelector/useAppSelector.ts","store/slices/products.slice.ts","store/index.ts","constants/index.ts","utils/text/truncateSentence.ts","utils/text/truncateString.ts","components/atoms/CenteredBox/CenteredBox.tsx","components/atoms/ImageBlock/ImageBlock.tsx","components/atoms/RatingBlock/RatingBlock.tsx","components/organisms/PopularProducts/PopularProducts.tsx","hooks/useAppActions/useAppActions.ts","components/organisms/ProductOverview/ProductOverview.tsx","components/molecules/ClusterDetails/ClusterDetails.tsx","components/organisms/ClusterList/ClusterList.tsx","components/organisms/ProductAnalogs/ProductAnalogs.tsx","components/pages/Home/Home.tsx","utils/text/getAsinFromString.ts","components/pages/ProductDetails/ProductDetails.tsx","components/templates/Header/Header.tsx","components/templates/Layout/Layout.tsx","components/templates/AppRouter/AppRouter.tsx","index.tsx","components/atoms/RatingBlock/RatingBlock.module.css","components/molecules/ClusterDetails/ClusterDetails.module.css","components/pages/Home/Home.module.css","components/organisms/PopularProducts/PopularProducuts.module.css"],"names":["AMAZON_API_BASE","axios","create","baseURL","process","headers","OWN_API_BASE","window","location","hostname","ProductsService","getProductClusters","asin","language","a","console","log","get","response","data","getProductDetails","params","country","result","Routes","useAppSelector","useSelector","productsSlice","createSlice","name","initialState","popularProductsDetails","reducers","setPopularProductsDetails","state","action","payload","store","configureStore","reducer","products","actions","POPULAR_PRODUCTS","lang","truncateSentence","sentence","truncateLength","maxLength","split","length","slice","join","truncateString","string","CenteredBox","props","children","className","ImageBlock","src","height","bgSize","style","background","backgroundSize","RatingBlock","rating","ratingFloat","parseFloat","Array","from","map","_","i","cn","styles","starWrapper","filled","ratingWrapper","PopularProducts","dispatch","useDispatch","bindActionCreators","useAppActions","useEffect","productsDetailsPromises","Promise","all","then","CardGroup","cardGroup","details","productDetailsUrl","getRouteUrl","ProductDetails","Card","card","as","Link","to","main_image","Body","Title","title","Footer","ProductOverview","reviews","description","Text","Button","variant","href","url","target","ClusterDetails","cluster","useState","isOpened","setIsOpened","cardCN","focused","cardHeader","onClick","prev","group","cluster_description","statements","Collapse","in","hr","sentences","ClusterList","clusters","ProductAnalogs","isAnalogsEnrolled","setIsAnalogsEnrolled","analogsToShow","setAnalogsToShow","Row","variants","filter","is_current_product","analog","Col","md","images","large","routes","path","Home","component","history","useHistory","asinValue","setAsinValue","asinError","setAsinEror","langValue","setLanguageValue","handleAsinChange","value","resultArr","RegExp","exec","getAsinFromString","Container","container","onSubmit","e","preventDefault","push","autoComplete","lg","FloatingLabel","controlId","label","Form","Control","placeholder","onChange","isInvalid","Feedback","invalidTooltip","type","select","match","productDetails","setProductDetails","productClusters","setProductClusters","route","args","Object","entries","reduce","acc","arg","replace","Header","Navbar","bg","expand","Brand","Toggle","Layout","AppRouter","basename","exact","render","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.56445269.chunk.js","sourcesContent":["import axios from 'axios';\nimport { IProductInfo, ICluster, IProductDetails } from 'src/types';\n\nconst AMAZON_API_BASE = axios.create({\n  baseURL: `https://${process.env.REACT_APP_RAPIDAPI_HOST}`,\n  headers: {\n    'x-rapidapi-host': process.env.REACT_APP_RAPIDAPI_HOST as string,\n    'x-rapidapi-key': process.env.REACT_APP_RAPIDAPI_KEY as string\n  }\n});\n\nconst OWN_API_BASE = axios.create({\n  baseURL:\n    window.location.hostname === 'localhost'\n      ? 'http://192.168.0.75:90'\n      : 'https://95.170.154.243:90'\n});\n\nexport class ProductsService {\n  static getProductClusters = async (\n    asin: IProductInfo['asin'],\n    language: IProductInfo['lang']\n  ) => {\n    console.log('request started');\n    const response = await OWN_API_BASE.get<ICluster[]>('/process');\n    console.log(response);\n    return response.data;\n  };\n  static getProductDetails = async (asin: IProductInfo['asin']) => {\n    interface IResponse {\n      result: IProductDetails[];\n    }\n    const response = await AMAZON_API_BASE.get<IResponse>('/product-details', {\n      params: { asin, country: 'US' }\n    });\n    return response.data.result[0];\n  };\n}\n","import { FC } from 'react';\nimport { Home, ProductDetails } from 'src/components/pages';\n\nexport enum Routes {\n  Home = '/',\n  ProductDetails = '/:asin/:lang'\n}\n\nexport const routes: IRoute[] = [\n  {\n    path: Routes.Home,\n    component: Home\n  },\n  {\n    path: Routes.ProductDetails,\n    component: ProductDetails\n  }\n];\n\nexport const getRouteUrl = (route: Routes, args: Record<string, string>) => {\n  return Object.entries(args).reduce((acc, [arg, value]) => {\n    return acc.replace(`:${arg}`, value);\n  }, route as string);\n};\n\ninterface IRoute {\n  path: Routes;\n  component: FC<any>;\n}\n","import { TypedUseSelectorHook, useSelector } from 'react-redux';\nimport { AppState } from 'src/store';\n\nexport const useAppSelector: TypedUseSelectorHook<AppState> = useSelector;\n","import { createSlice } from '@reduxjs/toolkit';\nimport { IProductDetails } from 'src/types';\n\nconst initialState = {\n  popularProductsDetails: null as IProductDetails[] | null\n};\n\nexport const productsSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {\n    setPopularProductsDetails: (state, action) => {\n      state.popularProductsDetails = action.payload;\n    }\n  }\n});\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport { productsSlice } from './slices/products.slice';\n\nexport const store = configureStore({\n  reducer: {\n    products: productsSlice.reducer\n  }\n});\n\nexport const actions = {\n  ...productsSlice.actions\n};\n\nexport type AppState = ReturnType<typeof store.getState>;\n","import { IProductInfo, ICluster } from 'src/types';\n\nexport const POPULAR_PRODUCTS: IProductInfo[] = [\n  {\n    asin: 'B096BKFG57',\n    lang: 'En'\n  },\n  {\n    asin: 'B01MQWUXZS',\n    lang: 'En'\n  },\n  {\n    asin: 'B01K9S260E',\n    lang: 'En'\n  }\n];\n\nexport const CLUSTERS_FOR_PRODUCT: Record<IProductInfo['asin'], ICluster[]> = {\n  B096BKFG57: [\n    {\n      cluster_description: 'good screen',\n      cluster_id: 1,\n      group: 'Aspect based',\n      sentences: ['god screen', 'nice image'],\n      statements: 2\n    },\n    {\n      cluster_description: 'dont buy',\n      cluster_id: 2,\n      group: 'Ipsum dolor',\n      sentences: ['dont buy', 'too cool', 'please dont buy'],\n      statements: 3\n    },\n    {\n      cluster_description: 'dont buy',\n      cluster_id: 3,\n      group: 'Adipisicing elit',\n      sentences: ['dont buy', 'too cool', 'please dont buy'],\n      statements: 3\n    },\n    {\n      cluster_description: 'dont buy',\n      cluster_id: 4,\n      group: 'Omnis, voluptate',\n      sentences: ['sit amet', 'too cool', 'please dont buy'],\n      statements: 3\n    },\n    {\n      cluster_description: 'dont buy',\n      cluster_id: 5,\n      group: 'emotional based',\n      sentences: ['dont buy', 'omnis', 'adipisicing elit', 'for me is nice'],\n      statements: 4\n    }\n  ],\n  B01MQWUXZS: [\n    {\n      cluster_description: 'dont buy',\n      cluster_id: 1,\n      group: 'emotional based',\n      sentences: ['dont buy', 'too cool', 'please dont buy'],\n      statements: 3\n    }\n  ],\n  B01K9S260E: [\n    {\n      cluster_description: 'dont buy',\n      cluster_id: 1,\n      group: 'emotional based',\n      sentences: ['dont buy', 'too cool', 'please dont buy'],\n      statements: 3\n    }\n  ]\n};\n","export const truncateSentence = (\n  sentence: string,\n  truncateLength: number | undefined\n): string => {\n  const maxLength = truncateLength ?? 12;\n  const splittedSentence = sentence.split(' ');\n  if (splittedSentence.length > maxLength) {\n    return sentence.split(' ').slice(0, maxLength).join(' ') + '...';\n  }\n  return sentence;\n};\n","export const truncateString = (\n  string: string,\n  truncateLength: number | undefined\n): string => {\n  const maxLength = truncateLength ?? 30;\n  if (string.length > maxLength) {\n    return string.slice(0, maxLength) + '...';\n  }\n  return string;\n};\n","import { FC } from 'react';\n\nexport const CenteredBox: FC = (props) => {\n  const { children } = props;\n  return (\n    <div className='w-100 h-100 d-flex flex-column align-items-center my-5'>\n      {children}\n    </div>\n  );\n};\n","import { FC } from 'react';\n\nexport const ImageBlock: FC<IProps> = (props) => {\n  const { src, height, bgSize } = props;\n  return (\n    <div\n      style={{\n        height: height ?? '15rem',\n        background: src ? `url(${src}) no-repeat center` : '#2b2b2b',\n        backgroundSize: src ? bgSize ?? '50%' : '100%'\n      }}\n    />\n  );\n};\n\ninterface IProps {\n  src: string | null | undefined;\n  height?: string;\n  bgSize?: string;\n}\n","import { FC } from 'react';\nimport { AiFillStar, AiOutlineStar } from 'react-icons/ai';\nimport cn from 'classnames';\nimport styles from './RatingBlock.module.css';\n\nexport const RatingBlock: FC<IProps> = (props) => {\n  const { rating } = props;\n  const ratingFloat = parseFloat(rating);\n  return (\n    <div className='d-flex align-items-center'>\n      {Array.from({ length: 5 }).map((_, i) =>\n        i < ratingFloat ? (\n          <div key={i} className={cn(styles.starWrapper, styles.filled)}>\n            <AiFillStar />\n          </div>\n        ) : (\n          <div key={i} className={styles.starWrapper}>\n            <AiOutlineStar />\n          </div>\n        )\n      )}\n      <div className={styles.ratingWrapper}>\n        <div className={styles.rating}>{rating}</div>\n      </div>\n    </div>\n  );\n};\n\ninterface IProps {\n  rating: string;\n}\n","import { FC, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AiOutlineStar } from 'react-icons/ai';\nimport { Card, CardGroup } from 'react-bootstrap';\nimport { HashLoader } from 'react-spinners';\nimport { ProductsService } from 'src/api';\nimport { useAppActions, useAppSelector } from 'src/hooks';\nimport { getRouteUrl, Routes } from 'src/routes';\nimport { POPULAR_PRODUCTS } from 'src/constants';\nimport { truncateSentence } from 'src/utils';\nimport { ImageBlock } from 'src/components/atoms';\nimport styles from './PopularProducuts.module.css';\n\nexport const PopularProducts: FC = () => {\n  const { popularProductsDetails } = useAppSelector((state) => state.products);\n  const { setPopularProductsDetails } = useAppActions();\n\n  useEffect(() => {\n    if (popularProductsDetails) {\n      return;\n    }\n    const productsDetailsPromises = POPULAR_PRODUCTS.map(({ asin }) =>\n      ProductsService.getProductDetails(asin)\n    );\n    Promise.all(productsDetailsPromises).then((data) =>\n      setPopularProductsDetails(data)\n    );\n  }, [popularProductsDetails, setPopularProductsDetails]);\n\n  return (\n    <CardGroup className={styles.cardGroup}>\n      {!popularProductsDetails ? (\n        <HashLoader />\n      ) : (\n        popularProductsDetails.slice(0, 3).map((details, i) => {\n          const productDetailsUrl = getRouteUrl(Routes.ProductDetails, {\n            asin: POPULAR_PRODUCTS[i].asin,\n            lang: POPULAR_PRODUCTS[i].lang\n          });\n          return (\n            <Card\n              key={i}\n              className={styles.card}\n              as={Link}\n              to={productDetailsUrl}\n            >\n              <ImageBlock\n                src={details.main_image}\n                height='15rem'\n                bgSize='25%'\n              />\n              <Card.Body>\n                <Card.Title>{truncateSentence(details.title, 20)}</Card.Title>\n              </Card.Body>\n              <Card.Footer>\n                <small className='text-muted'>\n                  Most popular <AiOutlineStar />\n                </small>\n              </Card.Footer>\n            </Card>\n          );\n        })\n      )}\n    </CardGroup>\n  );\n};\n","import { useDispatch } from 'react-redux';\nimport { bindActionCreators } from '@reduxjs/toolkit';\nimport { actions } from 'src/store';\n\nexport const useAppActions = () => {\n  const dispatch = useDispatch();\n  return bindActionCreators(actions, dispatch);\n};\n","import { FC } from 'react';\nimport { ScaleLoader } from 'react-spinners';\nimport { Button, Card } from 'react-bootstrap';\nimport { IProductDetails } from 'src/types';\nimport { CenteredBox, ImageBlock, RatingBlock } from 'src/components/atoms';\nimport { truncateString } from 'src/utils';\n\nexport const ProductOverview: FC<IProps> = (props) => {\n  const { details } = props;\n  return (\n    <Card>\n      {!details ? (\n        <CenteredBox>\n          <ScaleLoader />\n        </CenteredBox>\n      ) : (\n        <>\n          <ImageBlock src={details.main_image} height='15rem' bgSize='50%' />\n          <Card.Body>\n            <Card.Title>{details.title}</Card.Title>\n            <hr />\n            <div className='my-3'>\n              <RatingBlock rating={details.reviews.rating} />\n            </div>\n            {details.description && (\n              <>\n                <hr />\n                <Card.Text>\n                  {truncateString(details.description, 100)}\n                </Card.Text>\n              </>\n            )}\n            <hr />\n            <Button\n              as='a'\n              className='w-100'\n              variant='outline-dark'\n              href={details.url}\n              target='_blank'\n            >\n              Open in Amazon store\n            </Button>\n          </Card.Body>\n        </>\n      )}\n    </Card>\n  );\n};\n\ninterface IProps {\n  details: IProductDetails | null;\n}\n","import { FC, useState } from 'react';\nimport cn from 'classnames';\nimport { ICluster } from 'src/types';\nimport { Button, Card, Collapse } from 'react-bootstrap';\nimport { FaRegComment, FaMinus, FaPlus } from 'react-icons/fa';\nimport { BiCommentEdit } from 'react-icons/bi';\nimport styles from './ClusterDetails.module.css';\n\nexport const ClusterDetails: FC<IProps> = (props) => {\n  const { cluster } = props;\n  const [isOpened, setIsOpened] = useState(false);\n\n  const cardCN = cn(styles.card, { [styles.focused]: isOpened });\n\n  return (\n    <Card className={cardCN}>\n      <div\n        className={styles.cardHeader}\n        onClick={() => setIsOpened((prev) => !prev)}\n      >\n        <div className='flex-grow-1'>\n          <Card.Title>{cluster.group}</Card.Title>\n          <Card.Text>{cluster.cluster_description}</Card.Text>\n        </div>\n        <div className='d-flex align-items-center mx-2'>\n          <FaRegComment className='me-1' />\n          <span className='lead'>{cluster.statements}</span>\n        </div>\n        <div className='d-flex align-items-center mx-3'>\n          {isOpened ? <FaMinus /> : <FaPlus />}\n        </div>\n      </div>\n      <Collapse in={isOpened}>\n        <div>\n          <hr className={styles.hr} />\n          {cluster.sentences.map((sentence, i) => (\n            <div key={i}>\n              <BiCommentEdit />\n              <span className='ms-1'>{sentence}</span>\n            </div>\n          ))}\n          <Button variant='light' className='w-100 mt-3'>\n            View all\n          </Button>\n        </div>\n      </Collapse>\n    </Card>\n  );\n};\n\ninterface IProps {\n  cluster: ICluster;\n}\n","import { FC } from 'react';\nimport { ClockLoader } from 'react-spinners';\nimport { ICluster } from 'src/types';\nimport { CenteredBox } from 'src/components/atoms';\nimport { ClusterDetails } from 'src/components/molecules';\n\nexport const ClusterList: FC<IProps> = (props) => {\n  const { clusters } = props;\n  return (\n    <div className='rounded-3 border p-4'>\n      <h4>Review Summary</h4>\n      <div className='mt-3'>\n        {!clusters ? (\n          <CenteredBox>\n            <ClockLoader />\n            <div className='mt-2'>Please, wait a few seconds</div>\n          </CenteredBox>\n        ) : !clusters.length ? (\n          <span>No reviews found for this product</span>\n        ) : (\n          clusters.map((cluster, i) => (\n            <ClusterDetails key={i} cluster={cluster} />\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\ninterface IProps {\n  clusters: ICluster[] | null;\n}\n","import { FC, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { IProductDetails } from 'src/types';\nimport { Button, Card, Col, Row } from 'react-bootstrap';\nimport { getRouteUrl, Routes } from 'src/routes';\nimport { ImageBlock } from 'src/components/atoms';\n\nexport const ProductAnalogs: FC<IProps> = (props) => {\n  const { details } = props;\n  const [isAnalogsEnrolled, setIsAnalogsEnrolled] = useState(false);\n  const [analogsToShow, setAnalogsToShow] = useState(4);\n\n  const handleAnalogsEnrolled = () => {\n    setAnalogsToShow(isAnalogsEnrolled ? 4 : details.variants.length);\n    setIsAnalogsEnrolled(!isAnalogsEnrolled);\n  };\n\n  return (\n    <>\n      <Row className='mt-4'>\n        <hr />\n      </Row>\n      <Row className='mt-2'>\n        <h3>You'd may also like to see:</h3>\n      </Row>\n      <Row>\n        {details.variants\n          .filter((a) => !a.is_current_product)\n          .slice(0, analogsToShow)\n          .map((analog, i) => {\n            const productDetailsUrl = getRouteUrl(Routes.ProductDetails, {\n              asin: analog.asin,\n              lang: 'En'\n            });\n            return (\n              <Col key={i} md={3} className='mt-3'>\n                <Card as={Link} className='h-100' to={productDetailsUrl}>\n                  <ImageBlock src={analog.images?.[0].large} bgSize='40%' />\n                  <Card.Body>\n                    <Card.Title>{analog.title}</Card.Title>\n                  </Card.Body>\n                </Card>\n              </Col>\n            );\n          })}\n      </Row>\n      {details.variants.length > 4 && (\n        <Row className='justify-content-center mt-3'>\n          <Col md={6}>\n            <Button\n              variant='outline-dark'\n              className='w-100'\n              onClick={handleAnalogsEnrolled}\n            >\n              {isAnalogsEnrolled ? 'Hide' : 'Show more'}\n            </Button>\n          </Col>\n        </Row>\n      )}\n    </>\n  );\n};\n\ninterface IProps {\n  details: IProductDetails;\n}\n","import { FC, FormEvent, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  Button,\n  Col,\n  Container,\n  FloatingLabel,\n  Form,\n  Row\n} from 'react-bootstrap';\nimport { PopularProducts } from 'src/components/organisms';\nimport { getAsinFromString } from 'src/utils';\nimport { getRouteUrl, Routes } from 'src/routes';\nimport styles from './Home.module.css';\n\nexport const Home: FC = () => {\n  const history = useHistory();\n  const [asinValue, setAsinValue] = useState('');\n  const [asinError, setAsinEror] = useState('');\n  const [langValue, setLanguageValue] = useState('En');\n\n  const handleAsinChange = (value: string) => {\n    const asin = getAsinFromString(value);\n    if (!asin) {\n      setAsinEror('Incorrect Amazon product URL or ASIN');\n    } else {\n      setAsinEror('');\n      setAsinValue(asin);\n    }\n  };\n\n  const handleSubmit = (e: FormEvent) => {\n    e.preventDefault();\n    if (!asinValue) {\n      setAsinEror('This is a required field');\n    } else {\n      const productDetailsUrl = getRouteUrl(Routes.ProductDetails, {\n        asin: asinValue,\n        lang: langValue\n      });\n      history.push(productDetailsUrl);\n    }\n  };\n\n  return (\n    <Container className={styles.container}>\n      <Row className='g-2'>\n        <Col md={12}>\n          <h2>Review Summarizer</h2>\n        </Col>\n      </Row>\n      <form onSubmit={handleSubmit} autoComplete='off'>\n        <Row className='g-2 mt-2'>\n          <Col md={6} lg={8}>\n            <FloatingLabel controlId='asin' label='Amazon URL or ASIN'>\n              <Form.Control\n                placeholder='https://amazon.com'\n                onChange={(e) => handleAsinChange(e.target.value)}\n                isInvalid={!!asinError}\n              />\n              <Form.Control.Feedback\n                className={styles.invalidTooltip}\n                type='invalid'\n              >\n                {asinError}\n              </Form.Control.Feedback>\n            </FloatingLabel>\n          </Col>\n          <Col md={3} lg={2}>\n            <FloatingLabel label='Select language'>\n              <Form.Control\n                as='select'\n                className={styles.select}\n                onChange={(e) => setLanguageValue(e.target.value)}\n              >\n                <option value='En'>En</option>\n              </Form.Control>\n            </FloatingLabel>\n          </Col>\n          <Col md={3} lg={2}>\n            <Button type='submit' variant='primary' className='w-100 h-100'>\n              Summarize\n            </Button>\n          </Col>\n        </Row>\n      </form>\n      <PopularProducts />\n    </Container>\n  );\n};\n","export const getAsinFromString = (string: string) => {\n  const asinRegex = new RegExp('B[0-9]{2}[0-9A-Z]{7}|[0-9]{9}(X|0-9])');\n  const resultArr = asinRegex.exec(string);\n  if (!resultArr) {\n    return null;\n  }\n  return resultArr?.[0];\n};\n","import { FC, useEffect, useState } from 'react';\nimport { ICluster, IProductDetails, IProductInfo } from 'src/types';\nimport { Col, Container, Row } from 'react-bootstrap';\nimport {\n  ProductOverview,\n  ClusterList,\n  ProductAnalogs\n} from 'src/components/organisms';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { ProductsService } from 'src/api';\n\nexport const ProductDetails: FC<IProps> = (props) => {\n  const { asin, lang } = props.match.params;\n  const [productDetails, setProductDetails] = useState<IProductDetails | null>(\n    null\n  );\n  const [productClusters, setProductClusters] = useState<ICluster[] | null>(\n    null\n  );\n\n  useEffect(() => {\n    setProductDetails(null);\n    setProductClusters(null);\n    ProductsService.getProductDetails(asin).then((data) => {\n      setProductDetails(data);\n    });\n    ProductsService.getProductClusters(asin, lang).then((data) => {\n      setProductClusters(data);\n    });\n  }, [asin, lang]);\n\n  return (\n    <Container className='pb-5'>\n      <Row className='g-4 mt-3'>\n        <Col md={5} lg={3}>\n          <ProductOverview details={productDetails} />\n        </Col>\n        <Col md={7} lg={9}>\n          <ClusterList clusters={productClusters} />\n        </Col>\n      </Row>\n      {productDetails && !!productDetails.variants.length && (\n        <ProductAnalogs details={productDetails} />\n      )}\n    </Container>\n  );\n};\n\ninterface IRouteParams {\n  asin: IProductInfo['asin'];\n  lang: IProductInfo['lang'];\n}\n\ninterface IProps extends RouteComponentProps<IRouteParams> {}\n","import { Container, Navbar } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { Routes } from 'src/routes';\n\nexport const Header = () => {\n  return (\n    <Navbar bg='dark' variant='dark' expand='sm'>\n      <Container>\n        <Navbar.Brand as={Link} to={Routes.Home}>\n          Short Sentences\n        </Navbar.Brand>\n        <Navbar.Toggle />\n        <Navbar.Collapse className='justify-content-end'>\n          <Navbar.Text>\n            Using public <b>Amazon API</b>\n          </Navbar.Text>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n","import { FC } from 'react';\nimport { Header } from '../Header/Header';\n\nexport const Layout: FC = (props) => {\n  const { children } = props;\n  return (\n    <>\n      <Header />\n      {children}\n    </>\n  );\n};\n","import { FC } from 'react';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport { routes } from 'src/routes';\nimport { Layout } from '../Layout/Layout';\n\nexport const AppRouter: FC = () => {\n  return (\n    <HashRouter basename='/'>\n      <Switch>\n        {routes.map((route, i) => (\n          <Route\n            key={i}\n            exact\n            path={route.path}\n            render={(props) => (\n              <Layout>\n                <route.component {...props} />\n              </Layout>\n            )}\n          />\n        ))}\n      </Switch>\n    </HashRouter>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'src/styles/index.css';\n\nimport { AppRouter } from 'src/components/templates';\nimport { Provider } from 'react-redux';\nimport { store } from 'src/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <AppRouter />\n  </Provider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starWrapper\":\"RatingBlock_starWrapper__3g6mB\",\"filled\":\"RatingBlock_filled__1EPlk\",\"ratingWrapper\":\"RatingBlock_ratingWrapper__2DfNs\",\"rating\":\"RatingBlock_rating__3Vf8B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ClusterDetails_card__2rJ2E\",\"cardHeader\":\"ClusterDetails_cardHeader__39RZa\",\"focused\":\"ClusterDetails_focused__2gfxo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__2mBc-\",\"select\":\"Home_select__3upMm\",\"invalidTooltip\":\"Home_invalidTooltip__2VyY-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardGroup\":\"PopularProducuts_cardGroup__wd_bo\",\"card\":\"PopularProducuts_card__29wVf\"};"],"sourceRoot":""}