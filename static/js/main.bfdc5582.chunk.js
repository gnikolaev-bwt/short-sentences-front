(this["webpackJsonpshort-sentences"]=this["webpackJsonpshort-sentences"]||[]).push([[0],{130:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(23),s=c.n(a),r=(c(78),c(135)),i=c(134),l=c(24),o=c(8),j=c(12),d=c(133),u=c(68),b=c(69),m=c(136),h=c(138),O=c(36),x=c(132),p=c(137),f=c(27),g=c(50),v=c.n(g),_=c(3),N=c(64),y=c(26),S=c(65),w=c.n(S),k=[{asin:"B096BKFG57",lang:"En"},{asin:"B01MQWUXZS",lang:"En"},{asin:"B01K9S260E",lang:"En"}],B={B096BKFG57:[{cluster_description:"good screen",cluster_id:1,group:"Aspect based",sentences:["god screen","nice image"],statements:2},{cluster_description:"dont buy",cluster_id:2,group:"Ipsum dolor",sentences:["dont buy","too cool","please dont buy"],statements:3},{cluster_description:"dont buy",cluster_id:3,group:"Adipisicing elit",sentences:["dont buy","too cool","please dont buy"],statements:3},{cluster_description:"dont buy",cluster_id:4,group:"Omnis, voluptate",sentences:["sit amet","too cool","please dont buy"],statements:3},{cluster_description:"dont buy",cluster_id:5,group:"emotional based",sentences:["dont buy","omnis","adipisicing elit","for me is nice"],statements:4}],B01MQWUXZS:[{cluster_description:"dont buy",cluster_id:1,group:"emotional based",sentences:["dont buy","too cool","please dont buy"],statements:3}],B01K9S260E:[{cluster_description:"dont buy",cluster_id:1,group:"emotional based",sentences:["dont buy","too cool","please dont buy"],statements:3}]},P=function(e,t){var c=null!==t&&void 0!==t?t:12;return e.split(" ").length>c?e.split(" ").slice(0,c).join(" ")+"...":e},E=function(e,t){var c=null!==t&&void 0!==t?t:30;return e.length>c?e.slice(0,c)+"...":e},C={method:"GET",url:"https://".concat("amazon23.p.rapidapi.com","/product-details"),headers:{"x-rapidapi-host":"amazon23.p.rapidapi.com","x-rapidapi-key":"ecd72b8709msh07f4cd4e5a0c83fp1bfae3jsncf9c29afc457"}},z=function e(){Object(y.a)(this,e)};z.getProductClusters=function(e){return t=B[e],c=2e3,new Promise((function(e){setTimeout((function(){e(t)}),c)}));var t,c},z.getProductDetails=function(){var e=Object(N.a)(v.a.mark((function e(t){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={asin:t,country:"US"},n=Object(_.a)(Object(_.a)({},C),{},{params:c}),e.next=4,w.a.request(n).then((function(e){return e.data.result[0]}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var T,D=c(2),A=function(e){var t=e.children;return Object(D.jsx)("div",{className:"w-100 h-100 d-flex flex-column align-items-center my-5",children:t})},H=function(e){var t=e.src,c=e.height,n=e.bgSize;return Object(D.jsx)("div",{style:{height:null!==c&&void 0!==c?c:"15rem",background:t?"url(".concat(t,") no-repeat center"):"#2b2b2b",backgroundSize:t?null!==n&&void 0!==n?n:"50%":"100%"}})},F=c(5),R=c.n(F),W=c(32),I=c.n(W),G=function(e){var t=e.rating,c=parseFloat(t);return Object(D.jsxs)("div",{className:"d-flex align-items-center",children:[Array.from({length:5}).map((function(e,t){return t<c?Object(D.jsx)("div",{className:R()(I.a.starWrapper,I.a.filled),children:Object(D.jsx)(O.a,{})},t):Object(D.jsx)("div",{className:I.a.starWrapper,children:Object(D.jsx)(O.b,{})},t)})),Object(D.jsx)("div",{className:I.a.ratingWrapper,children:Object(D.jsx)("div",{className:I.a.rating,children:t})})]})},U=c(51),L=c.n(U),K=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e=k.map((function(e){var t=e.asin;return z.getProductDetails(t)}));Promise.all(e).then((function(e){return a(e)}))}),[]),Object(D.jsx)(x.a,{className:L.a.cardGroup,children:c.length?c.slice(0,3).map((function(e,t){var c=ae(T.ProductDetails,{asin:k[t].asin,lang:k[t].lang});return Object(D.jsxs)(p.a,{className:L.a.card,as:l.b,to:c,children:[Object(D.jsx)(H,{src:e.main_image,height:"15rem",bgSize:"25%"}),Object(D.jsx)(p.a.Body,{children:Object(D.jsx)(p.a.Title,{children:P(e.title,20)})}),Object(D.jsx)(p.a.Footer,{children:Object(D.jsxs)("small",{className:"text-muted",children:["Most popular ",Object(D.jsx)(O.b,{})]})})]},t)})):Object(D.jsx)(f.HashLoader,{})})},M=function(e){var t=e.details;return Object(D.jsx)(p.a,{children:t?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(H,{src:t.main_image,height:"15rem",bgSize:"50%"}),Object(D.jsxs)(p.a.Body,{children:[Object(D.jsx)(p.a.Title,{children:t.title}),Object(D.jsx)("hr",{}),Object(D.jsx)("div",{className:"my-3",children:Object(D.jsx)(G,{rating:t.reviews.rating})}),t.description&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("hr",{}),Object(D.jsx)(p.a.Text,{children:E(t.description,100)})]}),Object(D.jsx)("hr",{}),Object(D.jsx)(h.a,{as:"a",className:"w-100",variant:"outline-dark",href:t.url,target:"_blank",children:"Open in Amazon store"})]})]}):Object(D.jsx)(A,{children:Object(D.jsx)(f.ScaleLoader,{})})})},V=c(9),Z=c(73),J=c(45),X=c(67),q=c(38),Q=c.n(q),Y=function(e){var t=e.cluster,c=Object(n.useState)(!1),a=Object(o.a)(c,2),s=a[0],r=a[1],i=R()(Q.a.card,Object(V.a)({},Q.a.focused,s));return Object(D.jsxs)(p.a,{className:i,children:[Object(D.jsxs)("div",{className:Q.a.cardHeader,onClick:function(){return r((function(e){return!e}))},children:[Object(D.jsxs)("div",{className:"flex-grow-1",children:[Object(D.jsx)(p.a.Title,{children:t.group}),Object(D.jsx)(p.a.Text,{children:t.cluster_description})]}),Object(D.jsxs)("div",{className:"d-flex align-items-center mx-2",children:[Object(D.jsx)(J.c,{className:"me-1"}),Object(D.jsx)("span",{className:"lead",children:t.statements})]}),Object(D.jsx)("div",{className:"d-flex align-items-center mx-3",children:s?Object(D.jsx)(J.a,{}):Object(D.jsx)(J.b,{})})]}),Object(D.jsx)(Z.a,{in:s,children:Object(D.jsxs)("div",{children:[Object(D.jsx)("hr",{className:Q.a.hr}),t.sentences.map((function(e,t){return Object(D.jsxs)("div",{children:[Object(D.jsx)(X.a,{}),Object(D.jsx)("span",{className:"ms-1",children:e})]},t)})),Object(D.jsx)(h.a,{variant:"light",className:"w-100 mt-3",children:"View all"})]})})]})},$=function(e){var t=e.clusters;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h4",{children:"Review Summary"}),Object(D.jsx)("div",{className:"mt-3",children:t?(null===t||void 0===t?void 0:t.length)?t.map((function(e,t){return Object(D.jsx)(Y,{cluster:e},t)})):Object(D.jsxs)(A,{children:[Object(D.jsx)(f.ClockLoader,{}),Object(D.jsx)("div",{className:"mt-2",children:"Please, wait a few seconds"})]}):Object(D.jsx)("span",{children:"No reviews found for this product"})})]})},ee=function(e){var t=e.details,c=Object(n.useState)(!1),a=Object(o.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(4),j=Object(o.a)(i,2),b=j[0],m=j[1];return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(d.a,{className:"mt-4",children:Object(D.jsx)("hr",{})}),Object(D.jsx)(d.a,{className:"mt-2",children:Object(D.jsx)("h3",{children:"You'd may also like to see:"})}),Object(D.jsx)(d.a,{children:t.variants.filter((function(e){return!e.is_current_product})).slice(0,b).map((function(e,t){var c,n=ae(T.ProductDetails,{asin:e.asin,lang:"En"});return Object(D.jsx)(u.a,{md:3,className:"mt-3",children:Object(D.jsxs)(p.a,{as:l.b,className:"h-100",to:n,children:[Object(D.jsx)(H,{src:null===(c=e.images)||void 0===c?void 0:c[0].large,bgSize:"40%"}),Object(D.jsx)(p.a.Body,{children:Object(D.jsx)(p.a.Title,{children:e.title})})]})},t)}))}),t.variants.length>4&&Object(D.jsx)(d.a,{className:"justify-content-center mt-3",children:Object(D.jsx)(u.a,{md:6,children:Object(D.jsx)(h.a,{variant:"outline-dark",className:"w-100",onClick:function(){m(s?4:t.variants.length),r(!s)},children:s?"Hide":"Show more"})})})]})},te=c(46),ce=c.n(te);!function(e){e.Home="/",e.ProductDetails="/:asin/:lang"}(T||(T={}));var ne=[{path:T.Home,component:function(){var e=Object(j.f)(),t=Object(n.useState)(""),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(""),l=Object(o.a)(r,2),O=l[0],x=l[1],p=Object(n.useState)("En"),f=Object(o.a)(p,2),g=f[0],v=f[1],_=function(e){var t=function(e){var t=new RegExp("B[0-9]{2}[0-9A-Z]{7}|[0-9]{9}(X|0-9])").exec(e);return t?null===t||void 0===t?void 0:t[0]:null}(e);t?(x(""),s(t)):x("Incorrect Amazon product URL or ASIN")};return Object(D.jsxs)(i.a,{className:ce.a.container,children:[Object(D.jsx)(d.a,{className:"g-2",children:Object(D.jsx)(u.a,{md:12,children:Object(D.jsx)("h2",{children:"Review Summarizer"})})}),Object(D.jsx)("form",{onSubmit:function(t){if(t.preventDefault(),a){var c=ae(T.ProductDetails,{asin:a,lang:g});e.push(c)}else x("This is a required field")},autoComplete:"off",children:Object(D.jsxs)(d.a,{className:"g-2 mt-2",children:[Object(D.jsx)(u.a,{md:8,children:Object(D.jsxs)(b.a,{controlId:"asin",label:"Amazon URL or ASIN",children:[Object(D.jsx)(m.a.Control,{placeholder:"https://amazon.com",onChange:function(e){return _(e.target.value)},isInvalid:!!O}),Object(D.jsx)(m.a.Control.Feedback,{className:ce.a.invalidTooltip,type:"invalid",children:O})]})}),Object(D.jsx)(u.a,{md:2,children:Object(D.jsx)(b.a,{label:"Select language",children:Object(D.jsx)(m.a.Control,{as:"select",className:ce.a.select,onChange:function(e){return v(e.target.value)},children:Object(D.jsx)("option",{value:"En",children:"En"})})})}),Object(D.jsx)(u.a,{md:2,children:Object(D.jsx)(h.a,{type:"submit",variant:"primary",className:"w-100 h-100",children:"Summarize"})})]})}),Object(D.jsx)(K,{})]})}},{path:T.ProductDetails,component:function(e){var t=e.match.params.asin,c=Object(n.useState)(null),a=Object(o.a)(c,2),s=a[0],r=a[1],l=Object(n.useState)([]),j=Object(o.a)(l,2),b=j[0],m=j[1];return Object(n.useEffect)((function(){r(null),m([]),z.getProductDetails(t).then((function(e){r(e)})),z.getProductClusters(t).then((function(e){m(e)}))}),[t]),Object(D.jsxs)(i.a,{className:"pb-5",children:[Object(D.jsxs)(d.a,{className:"g-4 mt-3",children:[Object(D.jsx)(u.a,{md:5,lg:3,children:Object(D.jsx)(M,{details:s})}),Object(D.jsx)(u.a,{md:7,lg:9,children:Object(D.jsx)("div",{className:"rounded-3 border p-4",children:Object(D.jsx)($,{clusters:b})})})]}),s&&!!s.variants.length&&Object(D.jsx)(ee,{details:s})]})}}],ae=function(e,t){return Object.entries(t).reduce((function(e,t){var c=Object(o.a)(t,2),n=c[0],a=c[1];return e.replace(":".concat(n),a)}),e)},se=function(){return Object(D.jsx)(r.a,{bg:"dark",variant:"dark",children:Object(D.jsxs)(i.a,{children:[Object(D.jsx)(r.a.Brand,{as:l.b,to:T.Home,children:"Short sentences"}),Object(D.jsx)(r.a.Toggle,{}),Object(D.jsx)(r.a.Collapse,{className:"justify-content-end",children:Object(D.jsxs)(r.a.Text,{children:["Using public ",Object(D.jsx)("b",{children:"Amazon API"})]})})]})})},re=function(e){var t=e.children;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(se,{}),t]})},ie=function(){return Object(D.jsx)(l.a,{basename:"/",children:Object(D.jsx)(j.c,{children:ne.map((function(e,t){return Object(D.jsx)(j.a,{exact:!0,path:e.path,render:function(t){return Object(D.jsx)(re,{children:Object(D.jsx)(e.component,Object(_.a)({},t))})}},t)}))})})};s.a.render(Object(D.jsx)(ie,{}),document.getElementById("root"))},32:function(e,t,c){e.exports={starWrapper:"RatingBlock_starWrapper__3g6mB",filled:"RatingBlock_filled__1EPlk",ratingWrapper:"RatingBlock_ratingWrapper__2DfNs",rating:"RatingBlock_rating__3Vf8B"}},38:function(e,t,c){e.exports={card:"ClusterDetails_card__2rJ2E",cardHeader:"ClusterDetails_cardHeader__39RZa",focused:"ClusterDetails_focused__2gfxo"}},46:function(e,t,c){e.exports={container:"Home_container__2mBc-",select:"Home_select__3upMm",invalidTooltip:"Home_invalidTooltip__2VyY-"}},51:function(e,t,c){e.exports={cardGroup:"PopularProducuts_cardGroup__wd_bo",card:"PopularProducuts_card__29wVf"}},78:function(e,t,c){}},[[130,1,2]]]);
//# sourceMappingURL=main.bfdc5582.chunk.js.map